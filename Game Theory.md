## 博弈

[TOC]

### Bash 博弈 

有一堆石子共有$N$个。$A,B$两个人轮流拿，$A$ 先拿。每次最少拿$1$颗，最多拿$K$颗，拿到最后$1$颗石子的人获胜。假设$A,B$都非常聪明，拿石子的过程中不会出现失误。给出 $N$ 和 $K$，问最后谁能赢 得比赛。

先手必胜 当且仅当 $N\%(K + 1) = 0$ 

### Nim 博弈 

有 $N$ 堆石子。$A,B$ 两个人轮流拿，$A$ 先拿。每次只能从一堆中取若干个，可将一堆全取走，但不可不取，拿到最后$1$颗石子的人获胜。假设$A,B$都非常聪明，拿石子的过程中不会出现失误。给出$N$及每堆石子的数量，问最后谁能赢得比赛。 

先手必胜 当且仅当 $X1\bigoplus X2\bigoplus ……\bigoplus Xn \neq 0$ 

### Wythoff 博弈 

有$2$堆石子。$A,B$ 两个人轮流拿，$A$先拿。每次可以从一堆中取任意个或从 $2$ 堆中取相同数量的 石子，但不可不取。拿到最后 $1$ 颗石子的人获胜。假设 $A,B$ 都非常聪明，拿石子的过程中不会出现失误。给出 $2$ 堆石子的数量，问最后谁能赢得比赛。

```cpp
void Wythoff(int n, int m) {
    if(n > m) swap(n, m);
    int tmp = (m - n) * (sqrt(5) + 1.0) / 2;
    if(n == tmp) puts("B");
    else puts("A");
}
```

### 公平组合游戏 

若一个游戏满足： 

1. 游戏由两个人参与，二者轮流做出决策
2. 在游戏进程的任意时刻，可以执行的合法行动与轮到哪名玩家无关 
3. 有一个人不能行动时游戏结束 则称这个游戏是一个公平组合游戏NIM 游戏就是一个 公平组合游戏 

### SG-组合游戏 

一个公平组合游戏若满足： 

1. 两人的决策都对自己最有利
2. 当有一人无法做出决策时游戏结束，无法做出决策的人输，且游戏一定能在有限步数内结束 
3. 游戏中的同一个状态不可能多次抵达，且游戏不会出现平局 则这类游戏可以用 SG 函数解决，我们称之为 SG-组合游戏 

### 删边游戏 

1. 树的删边游戏 给出一个有 $N$ 个点的树，有一个点作为树的根节点。 游戏者轮流从树中删边，删去一条边后，不与根节点相连的部分将被移走。 无法行动者输。 有如下定理：叶子节点的 $SG$ 值为 0；其它节点的 $SG$ 值为它的所有子节点的 $SG$ 值加 1 后的异或 和。 

2. 无向图删边游戏 一个无向连通图，有一个点作为图的根。 游戏者轮流从图中删去边，删去一条边后，不与根节点相连的部分被移走，无法行动者输。 
   $Fusion Principle$ ： 我们可以对无向图做如下改动：将图中的任意一个偶环缩成一个新点，任意一个奇环缩成一个新 点加一个新边；所有连到原先环上的边全部改为与新点相连。这样的改动不会影响图的 SG 值。 这样我们就可以将任意一个无向图改成树结构。
